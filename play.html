<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Match</title>
    <script src="https://content.jwplatform.com/libraries/SAHhwvZq.js"></script>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #333;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }
        #jwplayerDiv {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

<div id="jwplayerDiv"></div>

<script>
    function interceptNetworkRequests() {
        const originalOpen = XMLHttpRequest.prototype.open;
        XMLHttpRequest.prototype.open = function(method, url) {
            if (url.includes('sonydaimenew.akamaized.net')) {
                url = url.replace('sonydaimenew.akamaized.net', 'sony.cricsterspkl.io/event.php');
            } else if (url.includes('sonypartnersdaimenew.akamaized.net')) {
                url = url.replace('sonypartnersdaimenew.akamaized.net', 'sony.cricsterspkl.io/event.php');
            }
            return originalOpen.apply(this, arguments);
        };
    }
    interceptNetworkRequests();

    // Get Content ID from URL
    const urlParams = new URLSearchParams(window.location.search);
    const contentId = urlParams.get('id');

    if (contentId) {
        const streamUrl = `https://sonydaimenew.akamaized.net/hls/live/2022317/${contentId}/master.m3u8`;

        jwplayer("jwplayerDiv").setup({
            playlist: [{
                title: "Live Match",
                description: "You're Watching",
                sources: [{
                    file: streamUrl,
                    type: "hls",
                    label: "1080p",
                    default: true
                }]
            }],
            width: "100%",
            height: "100%",
            autostart: true,
            controls: true
        });
    } else {
        document.body.innerHTML = "<h2>Invalid Video ID</h2>";
    }
</script>

</body>
</html>
